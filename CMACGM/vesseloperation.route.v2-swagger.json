{"openapi":"3.0.3","info":{"title":"Routing Finder","x-release-note":[{"version":"2.8.2","date":"2024-04-10","changes":["NEW parameter unLocodePlaceOfLoading and unLocodePlaceOfDischarge"]},{"version":"2.9.3","date":"2024-05-28","changes":[{"Environmental data (CO2, NOx, SOx and PM10) now available":["solutionFootprint for the entire solution.","legFootprint for each leg of the solution."]}]}],"description":"Given a place of loading and a place of discharge this API returns an exhaustive list of solutions (a.k.a routes) with theirs schedules proposed for each carrier of the CMA CGM group. The maritime route may be direct or with transboarding for ship change. Standard & Special Booking acceptance, Port, VGM, SI and Customs cut offs, vessel names and first voyage ref are delivered.\n\nTo get a routing, both load and discharge points must be specified.\nAPI request is based on codes and consequently requires knowledge of CMA GM location codification, which can be retrieved using CMA CGM referential APIs.\n\nEmission Footprint results are expressed in metric tons of CO2, and Kilogram of NOx, SOx and PM10 actually emitted between Port of Origin and Port of Delivery. The CO2 footprint should not be confused with the performance of the service usually expressed in grams of CO2 / teu-km. The CO2 footprint is expressed in WTW (Well to Wake) and takes into account the full life cycle of the fuel used. An average vessel filling factor of 70% is applied, in accordance with the revised methodology of the Clean cargo Working Group.\n\nFigures provided should be considered as an indicative information.\n","version":"2.9.3"},"servers":[{"url":"/vesseloperation/route/v2"}],"tags":[{"name":"Port to port Schedule"}],"paths":{"/routings":{"get":{"tags":["Port to port Schedule"],"summary":"List schedule(s) between two ports","description":"List of solutions and schedules will be returned with conditions:\n* **Loading/Discharge**\n  * Loading and Discharge (whatever the codification CMA or UNLocode referential) are mandatory\n  * All codes must reefer to CMA CGM referential location API except if you use the **unLocodePlaceOfLoading** and **unLocodePlaceOfDischarge** parameters\n  * Either the locations are sent in unlocode or in CMA codification\n* **Shipping company parameters**\n  * When parameter shipping company is set:\n    * Commercial solutions for this shipcomp are returned in priority.\n    * Commercial solutions for the other carriers (CMA CGM, CNC, ANL) will be returned if not commercial routes are defined on the shipping company set.\n  * When parameter shipping company isn't set:\n    * Commercial solutions are returned in priority\n    * Solutions for all carriers (CMA CGM, CNC, ANL) are returned\n  * To get Solutions for APL (US Military and US governmental) you must set to shipping company to \"0015\"\n* **Departure date / arrival date / search range**\n  * Search range parameters is link with departure date **OR** arrival date\n  * By default the planned schedule for each solutions will be proposed for the next 3 weeks from the specified departure date.\n* **Ordering solutions by**\n  1. Transit Time Balanced by number of transhipments\n  2. Departure date\n* **Routing with statistics (parameters “useRoutingStatistics”)**\n  * If you select place of loading and/or place of discharge linked with no routable solutions, the preferred routing maritime solutions linked with the place will be proposed\n  * By default this setup is **activated**.\n","operationId":"listRoutingsFromPolPod","parameters":[{"name":"placeOfLoading","in":"query","description":"Place of loading point code, from CMA CGM location Referential - referential.location e.g. CNSHA","schema":{"type":"string"}},{"name":"placeOfDischarge","in":"query","description":"Place of discharge point code, from CMA CGM location Referential - referential.location\ne.g. NLRTM\n","schema":{"type":"string"}},{"name":"unLocodePlaceOfLoading","in":"query","description":"Place of loading point code, from UNLocode referential e.g. CNSGH for Shangai","schema":{"type":"string"}},{"name":"unLocodePlaceOfDischarge","in":"query","description":"Place of discharge point code, from UNLocode referential\ne.g. GPPAP for Pointe-à-pitre\n","schema":{"type":"string"}},{"name":"shippingCompany","description":"Preferred shipping company for search.\nCodes are provided by CMA CGM referential - referential.shipping.company, e.g. 0001\n*When not set solution for all companies are retuned*\n*List of companies will be indicated in the response headers*\n","in":"query","required":false,"schema":{"type":"string"}},{"name":"departureDate","in":"query","description":"Wished departure date at the port of loading.\nDefault value is today if no arrivalDate is provided, e.g. 2019-12-20\n","required":false,"schema":{"type":"string","format":"date"}},{"name":"arrivalDate","in":"query","description":"Wished arrival date at the port of discharge, e.g. 2019-12-20\n","required":false,"schema":{"type":"string","format":"date"}},{"name":"searchRange","in":"query","description":"Range in which solutions are searched in days default is 21, max 35\n","required":false,"schema":{"type":"integer","default":21,"minimum":0,"maximum":35}},{"name":"polVesselIMO","in":"query","description":"Restricts the search to a particular vessel  IMO lloyds code on port of loading.\nFrom CMA CGM vessel Referential - referential.vessel\ne.g. 9454436\n","required":false,"schema":{"type":"string"}},{"name":"polServiceCode","in":"query","description":"Restricts the search to a particular service on port of loading.\nFrom CMA CGM vessel Referential - vesseloperation.proforma\ne.g. FAL2\n","required":false,"schema":{"type":"string"}},{"name":"maxTs","in":"query","description":"Max number of transshipments, default is 3.\n","required":false,"schema":{"type":"integer","default":3}},{"name":"numberOfTEU","in":"query","schema":{"type":"integer","example":2,"default":1},"description":"number of TEU used for footprint calculation"},{"name":"specificRoutings","in":"query","style":"form","explode":true,"schema":{"type":"array","items":{"type":"string"}},"description":"Specific routing tags.\nAvailable values are:\n  * 'USGovernment' - only government route will be displayed\n  * 'Commercial' - commercial route will be displayed\n\nIf the field is empty, commercial route will be displayed\n"},{"name":"useRoutingStatistics","in":"query","description":"If you select place of loading and/or place of discharge linked with no routable solutions, the preferred routing maritime solutions linked with the place will be proposed\n","required":false,"schema":{"type":"boolean","default":true}},{"name":"range","in":"header","schema":{"type":"string","default":"0-49"},"description":"Pagination parameter. default 0-49. Maximum rows to return 50"}],"responses":{"200":{"description":"Successful Operation","headers":{"Content-Range":{"$ref":"#/components/headers/Content-Range"},"X-Shipping-Company-Routings":{"$ref":"#/components/headers/X-Shipping-Company-Routings"},"CMA-Route-Solutions":{"$ref":"#/components/headers/CMA-Route-Solutions"}},"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Routing"}}}}},"206":{"description":"Successful Operation","headers":{"Content-Range":{"$ref":"#/components/headers/Content-Range"},"X-Shipping-Company-Routings":{"$ref":"#/components/headers/X-Shipping-Company-Routings"},"CMA-Route-Solutions":{"$ref":"#/components/headers/CMA-Route-Solutions"}},"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Routing"}}}}},"253":{"description":"Successful Operation but enrichment is missing due to subsystem unavailability","headers":{"Content-Range":{"$ref":"#/components/headers/Content-Range"},"X-Shipping-Company-Routings":{"$ref":"#/components/headers/X-Shipping-Company-Routings"},"CMA-Route-Solutions":{"$ref":"#/components/headers/CMA-Route-Solutions"}},"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Routing"}}}}},"400":{"$ref":"#/components/responses/BadRequest"},"416":{"$ref":"#/components/responses/BadRange"},"500":{"$ref":"#/components/responses/InternalError"},"default":{"$ref":"#/components/responses/Default"}},"security":[{"oAuth2":["rf:be"]},{"APIKey":[]}]}}},"components":{"securitySchemes":{"oAuth2":{"type":"oauth2","flows":{"clientCredentials":{"tokenUrl":"https://auth.cma-cgm.com/as/token.oauth2","scopes":{"rf:be":"read access"}}}},"APIKey":{"type":"apiKey","in":"header","name":"KeyId"}},"responses":{"NotFound":{"description":"Unknown resource code, Reason - 404 Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Fault"}}}},"BadRequest":{"description":"Fault datatype description,  Reason - 400 Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Fault"}}}},"InternalError":{"description":"Internal issue,  Reason - 500 Internal error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Fault"}}}},"BadRange":{"description":"The provided range is not satisfiable,  Reason - 416 Range Not Satisfiable\n* Code - SCH_ERR Description - No schedule for range\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Fault"}}}},"Default":{"description":"Unexpected error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Fault"}}}}},"headers":{"Content-Range":{"schema":{"type":"string"},"description":"Returned range."},"X-Shipping-Company-Routings":{"schema":{"type":"string"},"description":"List of shipping companies part of the solutions\n_(not just the returned range)_\n"},"CMA-Route-Solutions":{"schema":{"type":"string"},"description":"Total number of solutions across all shipping companies\n*8 solutions for '0001' and 2 solutions for '0002' will return '0001:8,0002:2'*\n"}},"schemas":{"Routing":{"type":"object","properties":{"shippingCompany":{"type":"string","description":"shipping from CMA CGM referential - referential.shipping.company","example":"0001"},"solutionNo":{"type":"integer","description":"Solution number, starting with 1 for each company\nAll results with same solution number use the same route.\n","example":1,"minimum":1},"transitTime":{"type":"integer","description":"Journey Transit time","example":28},"solutionFootprint":{"$ref":"#/components/schemas/Footprint"},"specificRoutings":{"type":"array","items":{"type":"string"},"description":"Specific routing tags\nValues are:\n- 'USGovernment': for the US gouvernment route\n\n\nnull when no specific routing defined for the route\n","example":["USGovernment"]},"routingDetails":{"type":"array","items":{"$ref":"#/components/schemas/RoutingDetail"},"description":"Journey Stages detail"}},"required":["transitTime","shippingCompany"]},"RoutingDetail":{"type":"object","properties":{"pointFrom":{"$ref":"#/components/schemas/WaypointOrigin"},"pointTo":{"$ref":"#/components/schemas/WaypointDestination"},"transportation":{"$ref":"#/components/schemas/Transportation"},"legTransitTime":{"type":"integer","description":"Transit time between point From and Point To","example":28},"legFootprint":{"$ref":"#/components/schemas/Footprint"}}},"Service":{"type":"object","properties":{"code":{"type":"string","description":"CMA CGM commercial service code","example":"FAL2"},"internalCode":{"type":"string","description":"CMA CGM internal service code","example":"FAL2"}}},"WaypointOrigin":{"type":"object","properties":{"location":{"$ref":"#/components/schemas/Location"},"callId":{"type":"string","description":"Technical CMA Unique Id of the call","example":"6794834094"},"departureDateLocal":{"type":"string","format":"date-time","description":"Departure date and time of the waypoint in Local Time","example":"2021-01-17T11:07:00+02:00"},"departureDateGmt":{"type":"string","format":"date-time","description":"Departure date and time of the waypoint in GMT Time","example":"2021-01-17T09:07:00Z"},"portCutoffDate":{"type":"string","format":"date-time","description":"!!DEPRECATED!!","example":"!!DEPRECATED!!","deprecated":true},"portCutoffDateGmt":{"type":"string","format":"date-time","description":"!!DEPRECATED!!","example":"!!DEPRECATED!!","deprecated":true},"vgmCutoffDate":{"type":"string","format":"date-time","description":"!!DEPRECATED!!","example":"!!DEPRECATED!!","deprecated":true},"vgmCutoffDateGmt":{"type":"string","format":"date-time","description":"!!DEPRECATED!!","example":"!!DEPRECATED!!","deprecated":true},"customsCutoffDate":{"type":"string","format":"date-time","description":"!!DEPRECATED!!","example":"!!DEPRECATED!!","deprecated":true},"customsCutoffDateGmt":{"type":"string","format":"date-time","description":"!!DEPRECATED!!","example":"!!DEPRECATED!!","deprecated":true},"cutOff":{"$ref":"#/components/schemas/CutOff"}}},"CutOff":{"type":"object","description":"define cut off for this location","properties":{"portCutoff":{"$ref":"#/components/schemas/DateLocalUtc"},"vgm":{"$ref":"#/components/schemas/DateLocalUtc"},"standardBookingAcceptance":{"$ref":"#/components/schemas/DateLocalUtc"},"specialBookingAcceptance":{"$ref":"#/components/schemas/DateLocalUtc"},"shippingInstructionAcceptance":{"$ref":"#/components/schemas/DateLocalUtc"},"shippingInstructionFilingAcceptance":{"$ref":"#/components/schemas/DateLocalUtc"},"customsAcceptance":{"$ref":"#/components/schemas/DateLocalUtc"},"advanceFilingCutoff":{"$ref":"#/components/schemas/DateLocalUtc"},"earliestReceivingDate":{"$ref":"#/components/schemas/DateLocalUtc"}}},"DateLocalUtc":{"type":"object","properties":{"local":{"type":"string","format":"date-time","description":"date locale","example":"2021-01-17T13:07:00+02:00"},"utc":{"type":"string","format":"date-time","description":"date UTC","example":"2021-01-17T11:07:00Z"}},"required":["utc"]},"WaypointDestination":{"type":"object","properties":{"location":{"$ref":"#/components/schemas/Location"},"callId":{"type":"string","description":"Technical CMA Unique Id of the call","example":"95244834094"},"arrivalDateLocal":{"type":"string","format":"date-time","description":"Arival date and time of the waypoint in Local Time","example":"2021-01-27T13:07:00+02:00"},"arrivalDateGmt":{"type":"string","format":"date-time","description":"Arival date and time of the waypoint in GMT Time","example":"2021-01-27T11:07:00Z"}}},"Location":{"type":"object","properties":{"name":{"type":"string","description":"Location name from CMA CGM location Referential - referential.location","example":"MARSEILLE"},"internalCode":{"description":"Location code from CMA CGM location Referential - referential.location","type":"string","example":"FRMRS"},"locationCodifications":{"type":"array","items":{"$ref":"#/components/schemas/LocationCodification"}},"facility":{"$ref":"#/components/schemas/Facility"}}},"LocationCodification":{"type":"object","properties":{"codificationType":{"description":"type of codification such as UN/Locode, GLN, Coordinate","type":"string","enum":["UN/Locode","Address","Coordinate"],"example":"UN/Locode"},"codification":{"description":"value related to the codification, if codification is UN/Locode, value will be location UN Locode value","type":"string","example":"FRMRS"}}},"Facility":{"type":"object","properties":{"facilityType":{"description":"facitity type such as Terminal, client, depot, ...","type":"string","example":"Terminal"},"internalCode":{"description":"facility internal code from CMA CGM location Referential - referential.location","type":"string","example":"FRMRSTRS"},"facilityCodifications":{"type":"array","items":{"$ref":"#/components/schemas/FacilityCodification"}},"name":{"description":"facility name","type":"string","example":"Marseille Terminal Roulier Sud"}}},"FacilityCodification":{"type":"object","properties":{"codificationType":{"description":"type of codification such as SMDG, Address, Coordinate","type":"string","enum":["SMDG","GLN","BIC","IMO","Address","Coordinate"],"example":"SMDG"},"codification":{"description":"value related to the codification, if codification is SMDG, value will be facility SMDG value","type":"string","example":"FRMRSTERS"}}},"Transportation":{"type":"object","properties":{"transportationPhase":{"type":"string","description":"The transportation phase: 'Import', 'Export', 'Transshipment'","example":"Export"},"meanOfTransport":{"type":"string","description":"The mean of transport used; Road, Rail/Road, Barge/Road, Mixed, Rail, Barge, Rail/Barge, Feeder, Third party feeder, Vessel, Unknown","example":"Vessel"},"vehicule":{"$ref":"#/components/schemas/Vehicule"},"voyage":{"$ref":"#/components/schemas/Voyage"}}},"Vehicule":{"type":"object","properties":{"vehiculeType":{"type":"string","description":"vehicule type (e.g. Truck, Vessel, Rail, etc.)","example":"Vessel"},"vehiculeName":{"type":"string","description":"vehicule Name","example":"CMA CGM MARCO POLO"},"reference":{"type":"string","description":"vehicule reference (e.g. Truck plate for Trucks, IMO Code for Vessels, etc.) full vessel detail in CMA CGM vessel Referential - referential.vessel","example":"9454436"},"referenceType":{"type":"string","description":"the type of the reference provided","enum":["IMO","SCAC","GLN","Other"],"example":"IMO"},"internalReference":{"type":"string","description":"CMA CGM internal reference of the vehicule","example":"CGJRS"},"smdgLinerCode":{"description":"SMDG Liner code as per SMDG referential https://smdg.org","type":"string","example":"CMA"}}},"Voyage":{"type":"object","properties":{"voyageReference":{"type":"string","description":"voyage reference","example":"2ETD45MA"},"service":{"$ref":"#/components/schemas/Service"}}},"Footprint":{"type":"object","description":"Object containing Carbon Footprint Calculation.\n","properties":{"carbonDioxide":{"type":"number","example":546.4,"description":"provide the CO2 (carbon dioxide) value for the routing solution or the solution leg. In t (metric ton / Mg)."},"sulphurOxide":{"type":"number","example":12.4,"description":"provide the SOx (sulphur oxide) value for the routing solution or the solution leg. In Kg"},"nitrogeneOxide":{"type":"number","example":15.4,"description":"provide the NOx (nitrogene oxide) value for the routing solution or the solution leg. In Kg"},"smallParticle":{"type":"number","example":0.8,"description":"provide the PM10 (fine particles) value for the routing solution or the solution leg. In Kg"}}},"Fault":{"type":"object","properties":{"reason":{"type":"string","description":"HTTP error or Free text such as  Database Not Available, Invalid\nCredential, Mandatory, Invalid Format, Invalid Length, ForbiddenValue,\nInvalid Data,...\n","example":"Unknown Port"},"code":{"type":"string","description":"Error Id,  Server Application error ID, Oracle error Id, ....","example":"PRT_ERR"},"description":{"type":"string","description":"Human-readable error description including Data and Value","example":"Unknown POL"}},"required":["reason"]}}}}